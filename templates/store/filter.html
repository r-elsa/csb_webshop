<!-- display results from search & option to sort results -->
{% extends "./base.html" %}
{% load static %}
{% block title %}{% endblock %}
{% block content %}
{% if products %}

<!-- Sort by name & price -->
  <div class="container ">
    <div class="row pt-5">
      <div class="col-xs-6 col-md-4">
      <form action="/search/sort" id="sortOption" method="get">
        <label for="sortOption">Sort by</label>
       
          <select form="sortOption" name="sortOption" required class="form-select form-select-mg mb-1">
           
            <option selected value="sort_name">Name</option>
            <option value="sort_price">Price</option>
          </select>
     
        </div>

      <div class="col-xs-12 col-sm-6 col-md-8">
   
       <input class="btn btn-outline-success p-3 m-5" type="submit" value="Sort">
       
      </form>
      </div>
    </div>

     
 
     

    <!-- Rendering results -->
    {% for product in products %}
    <div class="col">
      <div class="card shadow-sm">
        <img class="img-fluid" alt="Image" src="{{ product.image.url}}" style="height: 200px; object-fit: cover;">
      
    
        <div class="card-body">
          <a class="text-dark text-decoration-none" href=" {{ product.get_absolute_url }}"> <h5 class="card-title">{{ product.title}} </h5>              
          </a>
         
          <p class="card-text">{{ product.description }}
          </p>
          <div class="d-flex justify-content-between align-items-center">
          
            <small class="text-muted"> â‚¬ {{product.price}}</small>
            <div class="btn-group">
              <button type="button" class="btn btn-sm btn-outline-secondary" ><a href="{{ product.get_absolute_url }}" style="text-decoration: none; color: black;"> View</a></button>
            </div>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
 

   
</div>
<!-- 
No results found -->
{% else %}

<p>No product code or name matched your search criteria </p>
{% endif %}

{% endblock %}